<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>ronw/plottools @ GitHub</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
  		background-color: #ffffff;
		  font-family: "Helvetica,Arial,FreeSans";
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #1c49b0; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #1c49b0; }
    a { color: #1c49b0; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre.shell { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }

h3 {
  color: #1c49b0; 
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

	</style>
	
</head>

<body>
  <a href="http://github.com/ronw/plottools"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/ronw/plottools/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/ronw/plottools/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/ronw/plottools">plottools</a>
      <span class="small">by <a href="http://github.com/ronw">ronw</a></span></h1>

    <div class="description">
      MATLAB plotting wrappers and GUI controls
    </div>

    <h2>Example usage</h2>

         <h3>Load some data<a name="1"></a></h3><pre class="codeinput">[dsrc1 fs] = wavread(<span class="string">'<a href="http://www.ee.columbia.edu/~ronw/sounds/ssc/clean/t25_bwik1s_m25_bgwf4n.wav">sounds/ssc/clean/t25_bwik1s_m25_bgwf4n.wav</a>'</span>);
[dsrc2 fs] = wavread(<span class="string">'<a href="http://www.ee.columbia.edu/~ronw/sounds/ssc/clean/t25_bwik1s_m25_bgwf4n_masker.wav">sounds/ssc/clean/t25_bwik1s_m25_bgwf4n_masker.wav</a>'</span>);

dmix = dsrc1 + dsrc2;

NFFT = 640;
NWIN = NFFT;
NHOP = NFFT / 4;
Ssrc1 = dB(<a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/pvoc/">stft</a>(dsrc1, NFFT, NWIN, NHOP));
Ssrc2 = dB(<a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/pvoc/">stft</a>(dsrc2, NFFT, NWIN, NHOP));
Smix = dB(<a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/pvoc/">stft</a>(dmix, NFFT, NWIN, NHOP));

Msrc1 = <a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/rastamat/">melfcc</a>(dsrc1);
Msrc2 = <a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/rastamat/">melfcc</a>(dsrc2);
Mmix = <a href="http://www.ee.columbia.edu/~dpwe/resources/matlab/rastamat/">melfcc</a>(dmix);
</pre><h3>plotall<a name="2"></a></h3>
         <p>plotall lets you organize multiple subplots using a single function call.</p>
<pre class="codeinput">plotall(Smix, Ssrc1, Ssrc2);
<span class="comment">% Note that this is equivalent to passing in a cell array of data as a</span>
<span class="comment">% single argument:</span>
plotall({Smix, Ssrc1, Ssrc2});
</pre><img vspace="5" hspace="5" src="html/demo_01.png" alt=""> <h3>Panning and zooming<a name="3"></a></h3><pre class="codeinput">
<span class="comment">% Note the nifty scrollbars that let you pan and zoom the x-, y-, and</span>
<span class="comment">% color axes.  Left click and drag to scroll.  Right click to zoom.</span>
plotall(Smix, Ssrc1, Ssrc2)
</pre><img vspace="5" hspace="5" src="html/demo_02.png" alt=""> <h3>Configuring subplot layout<a name="4"></a></h3><pre class="codeinput">
<span class="comment">% plotall can automatically manage subplot layout.</span>
<span class="comment">% (Note that subplots are filled in row-wise)</span>
plotall(Smix, Smix, Ssrc1, Ssrc2, <span class="string">'subplot'</span>, [2 2]);
</pre><img vspace="5" hspace="5" src="html/demo_03.png" alt=""> <h3>Aligning axes<a name="5"></a></h3><pre class="codeinput">
<span class="comment">% Let each subplot have independent y and color axes, but keep the time</span>
<span class="comment">% axis fixed across all subplots.</span>
plotall(Ssrc1, Msrc1, <span class="string">'align'</span>, <span class="string">'x'</span>)
</pre><img vspace="5" hspace="5" src="html/demo_04.png" alt=""> <pre class="codeinput">
<span class="comment">% Sometimes you don't want anything to be aligned.</span>
plotall(dsrc1, Ssrc1, <span class="string">'align'</span>, <span class="string">''</span>)
</pre><img vspace="5" hspace="5" src="html/demo_05.png" alt=""> <h3>Pages<a name="7"></a></h3><pre class="codeinput">
<span class="comment">% If the 'subplots' property is set but there are more arguments than</span>
<span class="comment">% subplots, the subplots are split over multiple "pages".  Pages can be</span>
<span class="comment">% navigated using the controls on the top right of the figure.</span>
<span class="comment">% See the '<a href="http://github.com/ronw/plottools/blob/master/plot_pages.m">plot_pages</a>' function for another way to get this functionality</span>
<span class="comment">% without the rest of plotall's goodies.</span>
plotall(Smix, Ssrc1, Ssrc2, <span class="string">'subplot'</span>, [2 1])
</pre><img vspace="5" hspace="5" src="html/demo_06.png" alt=""> <h3>More properties<a name="8"></a></h3><pre class="codeinput">
<span class="comment">% You can pass in name-value pairs to configure different properties</span>
<span class="comment">% of the subplots.  Passing cell arrays in lets you configure</span>
<span class="comment">% different properties for each subplot, otherwise properties are</span>
<span class="comment">% shared across all subplots.  See 'help plotall' for more details.</span>
t = [1:NHOP:length(dmix)] / fs;
<span class="comment">% Quantize things to the nearest hundredth of a second.</span>
t = round(t * 100) / 100;
xticks = 1:20:length(t);
f = [0:NFFT/2] * fs / NFFT * 1e-3;
yticks = 1:80:length(f);
plotall(Smix, Ssrc1, Ssrc2, <span class="string">'clim'</span>, [-25 25], <span class="string">'colorbar'</span>, false, <span class="keyword">...</span>
	<span class="string">'ytick'</span>, yticks, <span class="string">'yticklabel'</span>, f(yticks), <span class="keyword">...</span>
	<span class="string">'ylabel'</span>, <span class="string">'Frequency (kHz)'</span>, <span class="keyword">...</span>
	<span class="string">'xtick'</span>, {[], [], xticks}, <span class="string">'xticklabel'</span>, t(xticks), <span class="keyword">...</span>
	<span class="string">'xlabel'</span>, {<span class="string">''</span>, <span class="string">''</span>, <span class="string">'Time (seconds)'</span>}, <span class="keyword">...</span>
	<span class="string">'title'</span>, {<span class="string">'Mixture'</span>, <span class="string">'Clean source 1'</span>, <span class="string">'Clean source 2'</span>}, <span class="keyword">...</span>
	<span class="string">'pub'</span>, true)  <span class="comment">% "'pub', true" turns off scrollbars.</span>
</pre><img vspace="5" hspace="5" src="html/demo_07.png" alt="">

 <h2>Usage<a name="9"></a></h2><pre class="codeinput">help <span class="string">plotall</span>
</pre><pre class="codeoutput">  plotall(data1, data2, ..., datan, property1, value1, property2, value2, ...)
  
  Plots all of the matrices contained in data1, data2, ... as subplots
  of the same figure.
 
  A series of name value pairs that correspond to optional settings
  and various Matlab plot properties can optionally be passed in.
 
  Supported properties applied across all subplots (default value):
  'align'                ('xyc'): set axes to be aligned.  can be any
                                  combination of 'x', 'y', and 'c'
  'colorbar'              (true): if true displays a colorbar next to each plot
  'colormap'          (colormap): colormap to use
  'figure'                 (gcf): figure handle
  'fun'                 (@(x) x): function to be applied to each element of
                                  data before plotting
  'order'                  ('r'): ordering of subplots ('r' for row-major order
                                  or 'c' for column-major order)
  'pub'                  (false): If true, try to make nicer looking
                                  plots suitable for publication
  'subplot'              ([n 1]): subplot arrangement
 
  If the 'pub' property is false, additional GUI controls are added to
  the figure, including scrollbars to control panning, zooming, and
  'caxis' settings.  Also, if n is larger than the number of subplots
  specified in the properties, s, then only s subplots will be
  displayed at a given time, but paging controls will be added to
  figure to give access to the remaining n-s plots.
 
  Supported per-subplot properties (default value):
  'axis'                  ('xy'): set axis appearance or scaling
  'plot_fun'  (@plot_or_imagesc): function to use for plotting each element
                                  of data
  'title'        ({'1','2',...}): titles for each matrix in data
  'xlabel'                  (''): x axis label
  'ylabel'                  (''): y axis label
  'zlabel'                  (''): z axis label
 
  Other valid per-subplot axis properties and values (e.g. 'CLim',
  'XLim', 'XTick') can be passed in as well.  
 
  Each per-subplot property value can be either a scalar, in which
  case the same value is applied to all subplots, or a cell array
  which specifies the values for each subplot individually.  Finally
  if value specified for one of these properties is a function that
  takes no arguments, it will be evaluated each time the property is
  set.  For example, is useful for adjusting the units of tick labels
  without knowing where the ticks are in advance.  E.g. setting
  'xticklabel' to @() get(gca, 'xtick')*1e-3 can automatically convert
  the horizontal axis labels from milliseconds to seconds.
  
  2008-11-12 ronw@ee.columbia.edu
</pre>
    <h2>Authors</h2>
	<p><a href="http://www.ee.columbia.edu/~ronw">Ron Weiss</a> (ronw@ee.columbia.edu)</p>


    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/ronw/plottools/zipball/master">zip</a> or
      <a href="http://github.com/ronw/plottools/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre class="shell">$ git clone git://github.com/ronw/plottools</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/ronw/plottools">ronw/plottools</a>
    </div>

  </div>

  
</body>
</html>
